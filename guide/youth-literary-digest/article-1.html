<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä½ ä¸çŸ¥é“çš„ Web Api | YuNotes</title>
    <meta name="description" content="è®°å½•å·¥ä½œã€è®°å½•ç”Ÿæ´»">
    <link rel="icon" href="/yunotes/image/favicon.ico">
    
    <link rel="preload" href="/yunotes/assets/css/0.styles.1aebe3d3.css" as="style"><link rel="preload" href="/yunotes/assets/js/app.7aa05a17.js" as="script"><link rel="preload" href="/yunotes/assets/js/23.3fc58a65.js" as="script"><link rel="prefetch" href="/yunotes/assets/js/10.e530a24d.js"><link rel="prefetch" href="/yunotes/assets/js/11.afa82878.js"><link rel="prefetch" href="/yunotes/assets/js/12.871f24e6.js"><link rel="prefetch" href="/yunotes/assets/js/13.33a7823f.js"><link rel="prefetch" href="/yunotes/assets/js/14.bf140826.js"><link rel="prefetch" href="/yunotes/assets/js/15.d30551f4.js"><link rel="prefetch" href="/yunotes/assets/js/16.731c0f31.js"><link rel="prefetch" href="/yunotes/assets/js/17.98b7a028.js"><link rel="prefetch" href="/yunotes/assets/js/18.fcf5487b.js"><link rel="prefetch" href="/yunotes/assets/js/19.9053444e.js"><link rel="prefetch" href="/yunotes/assets/js/2.e8d26dc8.js"><link rel="prefetch" href="/yunotes/assets/js/20.4d3c887a.js"><link rel="prefetch" href="/yunotes/assets/js/21.da570d44.js"><link rel="prefetch" href="/yunotes/assets/js/22.cfb55a66.js"><link rel="prefetch" href="/yunotes/assets/js/24.3b828050.js"><link rel="prefetch" href="/yunotes/assets/js/25.ed272328.js"><link rel="prefetch" href="/yunotes/assets/js/26.56978f51.js"><link rel="prefetch" href="/yunotes/assets/js/27.236a9be4.js"><link rel="prefetch" href="/yunotes/assets/js/28.1ce53620.js"><link rel="prefetch" href="/yunotes/assets/js/29.8bcccd28.js"><link rel="prefetch" href="/yunotes/assets/js/3.b733a958.js"><link rel="prefetch" href="/yunotes/assets/js/30.651c269d.js"><link rel="prefetch" href="/yunotes/assets/js/31.90153dcc.js"><link rel="prefetch" href="/yunotes/assets/js/32.fd176148.js"><link rel="prefetch" href="/yunotes/assets/js/33.b24a2cdc.js"><link rel="prefetch" href="/yunotes/assets/js/34.10605f3e.js"><link rel="prefetch" href="/yunotes/assets/js/35.5b54f0d9.js"><link rel="prefetch" href="/yunotes/assets/js/36.0a0cf58a.js"><link rel="prefetch" href="/yunotes/assets/js/37.98ab94b0.js"><link rel="prefetch" href="/yunotes/assets/js/38.27bd58de.js"><link rel="prefetch" href="/yunotes/assets/js/39.68257d4f.js"><link rel="prefetch" href="/yunotes/assets/js/4.daf370d6.js"><link rel="prefetch" href="/yunotes/assets/js/40.9304cfc8.js"><link rel="prefetch" href="/yunotes/assets/js/41.f5e9f3ce.js"><link rel="prefetch" href="/yunotes/assets/js/42.7b708993.js"><link rel="prefetch" href="/yunotes/assets/js/43.d9fb6920.js"><link rel="prefetch" href="/yunotes/assets/js/44.ef0f4f10.js"><link rel="prefetch" href="/yunotes/assets/js/45.30dff07b.js"><link rel="prefetch" href="/yunotes/assets/js/46.355c12e2.js"><link rel="prefetch" href="/yunotes/assets/js/47.6cae1468.js"><link rel="prefetch" href="/yunotes/assets/js/5.b9c60a27.js"><link rel="prefetch" href="/yunotes/assets/js/6.da8604b5.js"><link rel="prefetch" href="/yunotes/assets/js/7.d727ae99.js"><link rel="prefetch" href="/yunotes/assets/js/8.b320ee7b.js"><link rel="prefetch" href="/yunotes/assets/js/9.ff7624d0.js">
    <link rel="stylesheet" href="/yunotes/assets/css/0.styles.1aebe3d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/yunotes/" class="home-link router-link-active"><img src="/yunotes/image/favicon.ico" alt="YuNotes" class="logo"> <span class="site-name can-hide">YuNotes</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/yunotes/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><a href="/yunotes/guide/" class="nav-link router-link-active">æŒ‡å—</a></div><div class="nav-item"><a href="/yunotes/vue-admin-pro/" class="nav-link">Vue Admin Pro</a></div> <a href="https://github.com/liuqiyu/yunotes" target="_blank" rel="noopener noreferrer" class="repo-link">
    æŸ¥çœ‹æºç 
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/yunotes/" class="nav-link">ä¸»é¡µ</a></div><div class="nav-item"><a href="/yunotes/guide/" class="nav-link router-link-active">æŒ‡å—</a></div><div class="nav-item"><a href="/yunotes/vue-admin-pro/" class="nav-link">Vue Admin Pro</a></div> <a href="https://github.com/liuqiyu/yunotes" target="_blank" rel="noopener noreferrer" class="repo-link">
    æŸ¥çœ‹æºç 
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/yunotes/guide/" class="sidebar-link">ä»‹ç»</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>é’å¹´æ–‡æ‘˜</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/yunotes/guide/youth-literary-digest/article-1.html" class="active sidebar-link">1ã€ä½ ä¸çŸ¥é“çš„Web Api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_1ã€closeset" class="sidebar-link">1ã€closeset</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_2ã€dataset" class="sidebar-link">2ã€dataset</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_3ã€urlsearchparams" class="sidebar-link">3ã€URLSearchParams</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_4ã€hidden" class="sidebar-link">4ã€hidden</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_5ã€classlist" class="sidebar-link">5ã€classList</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_6ã€getboundingclientrect" class="sidebar-link">6ã€getBoundingClientRect</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_7ã€contains" class="sidebar-link">7ã€contains</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_8ã€online-state" class="sidebar-link">8ã€online state</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_9ã€battery-state" class="sidebar-link">9ã€battery state</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_10ã€vibration" class="sidebar-link">10ã€vibration</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_11ã€page-visibility" class="sidebar-link">11ã€page visibility</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_12ã€deviceorientation" class="sidebar-link">12ã€deviceOrientation</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_13ã€todataurl" class="sidebar-link">13ã€toDataURL</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_14ã€customevent" class="sidebar-link">14ã€customEvent</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_15ã€notification" class="sidebar-link">15ã€notification</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_16ã€fullscreen" class="sidebar-link">16ã€fullScreen</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#_17ã€orientation" class="sidebar-link">17ã€orientation</a></li><li class="sidebar-sub-header"><a href="/yunotes/guide/youth-literary-digest/article-1.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/yunotes/guide/youth-literary-digest/article-2.html" class="sidebar-link">2ã€Vue è„±å‘ Aè®¡åˆ’</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-3.html" class="sidebar-link">3ã€Javascript å’Œ Sass å…±äº«å˜é‡</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-4.html" class="sidebar-link">4ã€Vue ç”Ÿå‘½å‘¨æœŸé’©å­è‡ªå®šä¹‰äº‹ä»¶</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-5.html" class="sidebar-link">5ã€æ­ç§˜ ES6 ä¹‹ Class ç”¨æ³•</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-6.html" class="sidebar-link">6ã€æ­ç§˜ JS ä¹‹ ç»§æ‰¿ ç™¾ä¸‡è´¢äº§</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-7.html" class="sidebar-link">7ã€æ­ç§˜ JS ä¹‹ ä½ çš„Promise</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-8.html" class="sidebar-link">8ã€æ­ç§˜ JS ä¹‹ callã€applyã€bind</a></li><li><a href="/yunotes/guide/youth-literary-digest/article-9.html" class="sidebar-link">9ã€å¿«çœ‹ï¼Œå‰ç«¯å¼€å‘è€…éƒ½æ”¶è—äº†è¿™å‡ å¼ å›¾è¡¨</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/yunotes/guide/vue/introduction.html" class="sidebar-link">ä»‹ç»</a></li><li><a href="/yunotes/guide/vue/vue-count-to.html" class="sidebar-link">VueCountTo</a></li><li><a href="/yunotes/guide/vue/DLLPlugin.html" class="sidebar-link">DLLPlugin</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/yunotes/guide/react/introduction.html" class="sidebar-link">ä»‹ç»</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Git ä»å…¥é—¨åˆ°æ”¾å¼ƒ</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/yunotes/guide/git/case.html" class="sidebar-link">å®ç”¨æ¡ˆä¾‹</a></li><li><a href="/yunotes/guide/git/check-commit.html" class="sidebar-link">ä½¿ç”¨ husky å’Œ lint-stagedæ£€æµ‹</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="ä½ ä¸çŸ¥é“çš„-web-api"><a href="#ä½ ä¸çŸ¥é“çš„-web-api" aria-hidden="true" class="header-anchor">#</a> ä½ ä¸çŸ¥é“çš„ Web Api</h1> <h2 id="_1ã€closeset"><a href="#_1ã€closeset" aria-hidden="true" class="header-anchor">#</a> 1ã€closeset</h2> <p>å…ƒç´ å¯ä»¥å‘ä¸ŠæŸ¥è¯¢åˆ°çˆ¶å…ƒç´ ã€‚</p> <p><code>document.querySelector('.main-header-box').closest('.view-container')</code></p> <h2 id="_2ã€dataset"><a href="#_2ã€dataset" aria-hidden="true" class="header-anchor">#</a> 2ã€dataset</h2> <p>å¯ä»¥è·å–åŸç”Ÿæ ‡ç­¾ä»¥<code>data-</code>ä¸ºå‰ç¼€çš„å±æ€§é›†åˆ:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-a</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-b</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dataset<span class="token punctuation">)</span>

<span class="token comment">// DOMStringMap {a: &quot;1&quot;, b: &quot;2&quot;}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_3ã€urlsearchparams"><a href="#_3ã€urlsearchparams" aria-hidden="true" class="header-anchor">#</a> 3ã€URLSearchParams</h2> <p>å‡è®¾æµè§ˆå™¨çš„ url å‚æ•°æ˜¯ &quot;?name=èœ˜è››ä¾ &amp;age=16&quot;</p> <p><code>new URLSearchParams(location.search).get(&quot;name&quot;); // èœ˜è››ä¾ </code></p> <h2 id="_4ã€hidden"><a href="#_4ã€hidden" aria-hidden="true" class="header-anchor">#</a> 4ã€hidden</h2> <p>è¿™æ˜¯ä¸€ä¸ª html å±æ€§ï¼Œè§„å®šå…ƒç´ æ˜¯å¦éšè—ï¼Œè¡¨ç°è·Ÿ css çš„ display: none ä¸€è‡´ï¼š</p> <p><code>&lt;div hidden&gt;æˆ‘è¢«éšè—äº†&lt;/div&gt;</code></p> <p><code>document.querySelector(&quot;div&quot;).hidden = true / false;</code></p> <h2 id="_5ã€classlist"><a href="#_5ã€classlist" aria-hidden="true" class="header-anchor">#</a> 5ã€classList</h2> <p>è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡é‡Œå°è£…äº†è®¸å¤šæ“ä½œå…ƒç´ ç±»åçš„æ–¹æ³•ï¼š</p> <p><code>&lt;p class=&quot;title&quot;&gt;&lt;/p&gt;</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>

<span class="token comment">// å¢åŠ ç±»å</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'title-new'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;title title-new&quot;</span>

<span class="token comment">// åˆ é™¤ç±»å</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;title-new&quot;</span>

<span class="token comment">// åˆ‡æ¢ç±»åï¼ˆæœ‰åˆ™åˆ ã€æ— åˆ™å¢ï¼Œå¸¸ç”¨äºä¸€äº›åˆ‡æ¢æ“ä½œï¼Œå¦‚æ˜¾ç¤º/éšè—ï¼‰</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;title-new title&quot;</span>

<span class="token comment">// æ›¿æ¢ç±»å</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'title-old'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;title-new title-old&quot;</span>

<span class="token comment">// æ˜¯å¦åŒ…å«æŒ‡å®šç±»å</span>
elem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_6ã€getboundingclientrect"><a href="#_6ã€getboundingclientrect" aria-hidden="true" class="header-anchor">#</a> 6ã€getBoundingClientRect</h2> <p>å¯ä»¥è·å–æŒ‡å®šå…ƒç´ åœ¨å½“å‰é¡µé¢çš„ç©ºé—´ä¿¡æ¯ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>elem<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è¿”å›</span>
<span class="token punctuation">{</span>
  x<span class="token punctuation">:</span> <span class="token number">604.875</span><span class="token punctuation">,</span>
  y<span class="token punctuation">:</span> <span class="token number">1312</span><span class="token punctuation">,</span>
  width<span class="token punctuation">:</span> <span class="token number">701.625</span><span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">31</span><span class="token punctuation">,</span>
  top<span class="token punctuation">:</span> <span class="token number">1312</span><span class="token punctuation">,</span>
  right<span class="token punctuation">:</span> <span class="token number">1306.5</span><span class="token punctuation">,</span>
  bottom<span class="token punctuation">:</span> <span class="token number">1343</span><span class="token punctuation">,</span>
  left<span class="token punctuation">:</span> <span class="token number">604.875</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_7ã€contains"><a href="#_7ã€contains" aria-hidden="true" class="header-anchor">#</a> 7ã€contains</h2> <p>å¯ä»¥åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦åŒ…å«äº†æŒ‡å®šçš„å­å…ƒç´ ï¼š</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_8ã€online-state"><a href="#_8ã€online-state" aria-hidden="true" class="header-anchor">#</a> 8ã€online state</h2> <p>ç›‘å¬å½“å‰çš„ç½‘ç»œçŠ¶æ€å˜åŠ¨ï¼Œç„¶åæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'online'</span><span class="token punctuation">,</span> xxx<span class="token punctuation">)</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'offline'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ä½ æ–­ç½‘å•¦ï¼'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_9ã€battery-state"><a href="#_9ã€battery-state" aria-hidden="true" class="header-anchor">#</a> 9ã€battery state</h2> <p>è·å–è®¾å¤‡çš„ç”µæ± çŠ¶æ€ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>navigator<span class="token punctuation">.</span><span class="token function">getBattery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">battery</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>battery<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// è¿”å›</span>
<span class="token punctuation">{</span>
  charging<span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦åœ¨å……ç”µ</span>
    chargingTime<span class="token punctuation">,</span> <span class="token comment">// å……æ»¡ç”µæ‰€éœ€æ—¶é—´</span>
    dischargingTime<span class="token punctuation">,</span> <span class="token comment">// å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´</span>
    level<span class="token punctuation">,</span>
    å‰©ä½™ç”µé‡

  onchargingchange<span class="token punctuation">,</span> <span class="token comment">// ç›‘å¬å……ç”µçŠ¶æ€å˜åŒ–</span>
    onchargingtimechange<span class="token punctuation">,</span> <span class="token comment">// ç›‘å¬å……æ»¡ç”µæ‰€éœ€æ—¶é—´å˜åŒ–</span>
    ondischargingtimechange<span class="token punctuation">,</span> <span class="token comment">// ç›‘å¬å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´å˜åŒ–</span>
    onlevelchange <span class="token comment">// ç›‘å¬ç”µé‡å˜åŒ–</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>ä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·ç”µé‡å·²å……æ»¡ï¼Œæˆ–è€…ä¸ºäº†è®©ç”¨æˆ·æœ‰å®‰å…¨æ„Ÿï¼Œç”µé‡ä½äº 99%çš„æ—¶å€™æ¥ä¸ªå¼¹æ¡†æç¤º&quot;è¯¥å……ç”µå•¦&quot;âœ…</p> <h2 id="_10ã€vibration"><a href="#_10ã€vibration" aria-hidden="true" class="header-anchor">#</a> 10ã€vibration</h2> <p>å˜»å˜»ï¼Œä½¿è®¾å¤‡è¿›è¡Œéœ‡åŠ¨ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// éœ‡åŠ¨ä¸€æ¬¡</span>
navigator<span class="token punctuation">.</span><span class="token function">vibrate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment">// è¿ç»­éœ‡åŠ¨ï¼Œéœ‡åŠ¨200msã€æš‚åœ100msã€éœ‡åŠ¨300ms</span>
navigator<span class="token punctuation">.</span><span class="token function">vibrate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ•ˆæœå¦‚ä¸‹ï¼šä¸å¥½æ„æ€ä½ å¾—ç”¨ä½ è‡ªå·±çš„æ‰‹æ¡ä½æ‰‹æœºæ‰èƒ½æ„Ÿå—å¾—åˆ°;</p> <p>ä½¿ç”¨åœºæ™¯ï¼šé€šè¿‡æŒ¯åŠ¨æ¥æä¾›æ„Ÿå®˜åé¦ˆï¼Œæ¯”å¦‚å¤ªä¹…æ²¡æœ‰è§¦æ‘¸å±å¹•çš„æ—¶å€™è¿ç»­éœ‡åŠ¨æé†’ç”¨æˆ· âœ…</p> <h2 id="_11ã€page-visibility"><a href="#_11ã€page-visibility" aria-hidden="true" class="header-anchor">#</a> 11ã€page visibility</h2> <p>é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ª API æ˜¯ç”¨æ¥ç›‘å¬é¡µé¢å¯è§æ€§å˜åŒ–çš„ï¼Œåœ¨ PC ç«¯æ ‡ç­¾æ åˆ‡æ¢ã€æœ€å°åŒ–ä¼šè§¦å‘ã€åœ¨ç§»åŠ¨ç«¯ç¨‹åºåˆ‡åˆ°åå°ä¼šè§¦å‘ï¼Œç®€å•è¯´å°±æ˜¯é¡µé¢æ¶ˆå¤±äº† ğŸ¤¦â€â™‚ï¸</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'visibilitychange'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`é¡µé¢å¯è§æ€§ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>document<span class="token punctuation">.</span>visibilityState<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_12ã€deviceorientation"><a href="#_12ã€deviceorientation" aria-hidden="true" class="header-anchor">#</a> 12ã€deviceOrientation</h2> <p>é™€èºä»ªï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡çš„æ–¹å‘ï¼Œåˆåé‡åŠ›æ„Ÿåº”ï¼Œè¯¥ API åœ¨ IOS è®¾å¤‡ä¸Šå¤±æ•ˆçš„è§£å†³åŠæ³•ï¼Œå°†åŸŸååè®®æ”¹æˆ httpsï¼š</p> <p>ä»å·¦åˆ°å³åˆ†åˆ«ä¸º alphaã€betaã€gamma;</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'deviceorientation'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> alpha<span class="token punctuation">,</span> beta<span class="token punctuation">,</span> gamma <span class="token punctuation">}</span> <span class="token operator">=</span> event

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`alphaï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>alpha<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`betaï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>beta<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`gammaï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>gamma<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢ä¸Šçš„æŸäº›å…ƒç´ éœ€è¦æ ¹æ®æ‰‹æœºæ‘†åŠ¨è¿›è¡Œç§»åŠ¨ï¼Œè¾¾åˆ°è§†å·®çš„æ•ˆæœï¼Œæ¯”å¦‚ç‹è€…è£è€€è¿›å…¥æ¸¸æˆçš„é‚£ä¸ªç•Œé¢ï¼Œæ‰‹æœºè½¬åŠ¨èƒŒæ™¯å›¾ä¼šè·Ÿç€åŠ¨ ğŸ˜‚</p> <h2 id="_13ã€todataurl"><a href="#_13ã€todataurl" aria-hidden="true" class="header-anchor">#</a> 13ã€toDataURL</h2> <p>è¿™ä¸ª canvas çš„ APIï¼Œä½œç”¨æ˜¯å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆä¸€ä¸ª base64 çš„å›¾ç‰‡åœ°å€ï¼›</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç”»ä¸œè¥¿</span>
<span class="token operator">...</span>

<span class="token keyword">let</span> url <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&quot;image/png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†ç”»å¸ƒå†…å®¹è½¬æ¢æˆbase64åœ°å€</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä½¿ç”¨ a æ ‡ç­¾è¿›è¡Œå›¾ç‰‡ä¸‹è½½æ—¶ï¼Œå›¾ç‰‡é“¾æ¥è·¨åŸŸï¼Œæ— æ³•è¿›è¡Œä¸‹è½½è€Œæ˜¯è¿›è¡Œå›¾ç‰‡é¢„è§ˆï¼š</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">download</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¸‹è½½å›¾ç‰‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å°è£…ä»¥ä¸‹ä»£ç ä¾¿å¯è§£å†³ âœ…</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">downloadImage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å®ä¾‹åŒ–ç”»å¸ƒ</span>
  <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

  <span class="token comment">// å®ä¾‹åŒ–ä¸€ä¸ªå›¾ç‰‡å¯¹è±¡</span>
  <span class="token keyword">let</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  image<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">'Anonymous'</span>
  image<span class="token punctuation">.</span>src <span class="token operator">=</span> url

  <span class="token comment">// å½“å›¾ç‰‡åŠ è½½å®Œæ¯•</span>
  image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°†å›¾ç‰‡ç”»åœ¨ç”»å¸ƒä¸Š</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> image<span class="token punctuation">.</span>height
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> image<span class="token punctuation">.</span>width
    context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token comment">// å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆbase64åœ°å€</span>
    <span class="token keyword">let</span> dataURL <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span>

    <span class="token comment">// åˆ›å»ºaæ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»è¿›è¡Œä¸‹è½½</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
    a<span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token boolean">true</span>
    a<span class="token punctuation">.</span>href <span class="token operator">=</span> dataURL
    a<span class="token punctuation">.</span>download <span class="token operator">=</span> name

    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="_14ã€customevent"><a href="#_14ã€customevent" aria-hidden="true" class="header-anchor">#</a> 14ã€customEvent</h2> <p>è‡ªå®šä¹‰äº‹ä»¶ï¼Œå°±è·Ÿ vue é‡Œé¢çš„ on è·Ÿ emit ä¸€æ ·ï¼›</p> <p>ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'follow'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">)</span> <span class="token comment">// è¾“å‡º {name: &quot;å‰ç«¯å®‡å®™æƒ…æŠ¥å±€&quot;}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æ´¾å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>
  <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'follow'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    detail<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'å‰ç«¯å®‡å®™æƒ…æŠ¥å±€'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_15ã€notification"><a href="#_15ã€notification" aria-hidden="true" class="header-anchor">#</a> 15ã€notification</h2> <p>PC ç«¯çš„æ¡Œé¢é€šçŸ¥ï¼Œå¦‚ç½‘é¡µç«¯çš„å¾®ä¿¡ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå³ä¸‹è§’ä¼šå‡ºç°ä¸€ä¸ªé€šçŸ¥ï¼ˆå°½ç®¡ä½ æŠŠæµè§ˆå™¨æœ€å°åŒ–ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªé€šçŸ¥æ—¶ç‹¬ç«‹äºæµè§ˆå™¨çš„ï¼Œæ˜¯ç³»ç»Ÿçš„ä¸€ä¸ªåŸç”Ÿæ§ä»¶ï¼›</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> notice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span><span class="token string">'å‰ç«¯å®‡å®™æƒ…æŠ¥å±€'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  body<span class="token punctuation">:</span> <span class="token string">'è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ğŸˆ¶'</span><span class="token punctuation">,</span>
  icon<span class="token punctuation">:</span> <span class="token string">'æˆ‘çš„æ˜é‡‘å¤´åƒ'</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    url<span class="token punctuation">:</span> <span class="token string">'https://www.baidu.com'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ç‚¹å‡»å›è°ƒ</span>
notice<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>notice<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token comment">// å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç«™</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ³¨æ„ï¼šæƒ³è¦æˆåŠŸçš„è°ƒèµ·é€šçŸ¥ï¼Œé¦–å…ˆè¦ç”¨æˆ·çš„æˆæƒ âœ…</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Notification<span class="token punctuation">.</span><span class="token function">requestPermission</span><span class="token punctuation">(</span><span class="token parameter">prem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  prem <span class="token operator">==</span> <span class="token string">'granted'</span> <span class="token comment">// åŒæ„</span>
  prem <span class="token operator">==</span> <span class="token string">'denied'</span> <span class="token comment">// æ‹’ç»</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ‰€ä»¥ï¼Œå†è°ƒç”¨ä¹‹å‰å…ˆå‘ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> permission <span class="token operator">=</span> Notification<span class="token punctuation">.</span>permission<span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">==</span> <span class="token string">&quot;granted&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å·²åŒæ„ï¼Œå¼€å§‹å‘é€é€šçŸ¥</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">==</span> <span class="token string">&quot;denied&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸åŒæ„ï¼Œå‘ä¸äº†å’¯</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æˆæƒæç¤º</span>
  Notification<span class="token punctuation">.</span><span class="token function">requestPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_16ã€fullscreen"><a href="#_16ã€fullscreen" aria-hidden="true" class="header-anchor">#</a> 16ã€fullScreen</h2> <p>å…¨å±ä¸å’¯? ä¹‹å‰çš„ä¸€ä¸ªé¡¹ç›®åˆšå¥½ç”¨ä¸Šï¼Œä¸ä»…ä»…å¯ä»¥ä½œç”¨åœ¨ documentElement ä¸Šï¼Œè¿˜å¯ä»¥ä½œç”¨åœ¨æŒ‡å®šå…ƒç´ ï¼›</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * @method launchFullScreen å¼€å¯å…¨å±
 * @param {Object} elem = document.documentElement ä½œç”¨çš„å…ƒç´ 
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">launchFullScreen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">elem <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>requestFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elem<span class="token punctuation">.</span><span class="token function">requestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>mozRequestFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elem<span class="token punctuation">.</span><span class="token function">mozRequestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>webkitRequestFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elem<span class="token punctuation">.</span><span class="token function">webkitRequestFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ä½œç”¨åœ¨ documentElement ä¸Šæ²¡å•¥å¯ä»¥ä»‹ç»çš„å’¯ï¼Œå°±ç›¸å½“äº F11 å¼€å¯å…¨å±ï¼š</p> <p>å°±åƒæ•ˆæœå›¾ä¸€æ ·ï¼Œä¼šç›´æ¥å¼€å¯å…¨å±ï¼Œå¹¶ä¸”åªæ˜¾ç¤ºæŒ‡å®šçš„å…ƒç´ ï¼Œå…ƒç´ çš„å®½é«˜å¡«å……äº†æ•´ä¸ªå±å¹• âœ…</p> <p>å…³é—­å…¨å±çš„æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»Ÿä¸€ç”¨ document å¯¹è±¡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * @method exitFullScreen å…³é—­å…¨å±
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">exitFullScreen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>exitFullscreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>mozCancelFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">mozCancelFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>webkitCancelFullScreen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">webkitCancelFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_17ã€orientation"><a href="#_17ã€orientation" aria-hidden="true" class="header-anchor">#</a> 17ã€orientation</h2> <p>å¯ä»¥ç›‘å¬ç”¨æˆ·æ‰‹æœºè®¾å¤‡çš„æ—‹è½¬æ–¹å‘å˜åŒ–ï¼›</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'orientationchange'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`&lt;p&gt;å±å¹•æ—‹è½¬åçš„è§’åº¦å€¼ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>window<span class="token punctuation">.</span>orientation<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ css çš„åª’ä½“æŸ¥è¯¢ï¼š</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* ç«–å±æ—¶æ ·å¼ */</span>
<span class="token atrule"><span class="token rule">@media</span> all and <span class="token punctuation">(</span><span class="token property">orientation</span><span class="token punctuation">:</span> portrait<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">body::after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'ç«–å±'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* æ¨ªå±æ—¶æ ·å¼ */</span>
<span class="token atrule"><span class="token rule">@media</span> all and <span class="token punctuation">(</span><span class="token property">orientation</span><span class="token punctuation">:</span> landscape<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">body::after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'æ¨ªå±'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢éœ€è¦ç”¨æˆ·å¼€å¯æ¨ªå±æ¥è·å¾—æ›´å¥½çš„ä½“éªŒï¼Œå¦‚ç‹è€…è£è€€é‡Œé¢çš„æ´»åŠ¨é¡µ ğŸ˜‚</p> <h2 id="æ€»ç»“"><a href="#æ€»ç»“" aria-hidden="true" class="header-anchor">#</a> æ€»ç»“</h2> <p>å…¶å®ä¸å¸¸ç”¨çš„è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œæœ‰ä¸€äº›æˆ‘æ²¡æœ‰å‘ç°æˆ–è€…æ²¡å†™ï¼Œå¦‚ geoLocation åœ°ç†å®šä½ã€execCommand æ‰§è¡Œå‘½ä»¤ç­‰ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶è¡¥å……ï¼Œå‰å‡ ç¯‡æ–‡ç« éƒ½æ˜¯ css ç›¸å…³ï¼Œåé¢å‡ ç¯‡å…ˆä¸å†™ css å•¦ï¼Œä¸ºå¥½å¤šå†…å®¹å¤§å®¶éƒ½å†™è¿‡ï¼Œæƒ³å†™ä¸€äº›æ–°çš„ï¼Œä½†æ˜¯åˆéš¾å…ä¼šå†²çª~</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´: </span> <span class="time">8/24/2019, 10:40:13 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/yunotes/guide/" class="prev router-link-active">
          ä»‹ç»
        </a></span> <span class="next"><a href="/yunotes/guide/youth-literary-digest/article-2.html">
          2ã€Vue è„±å‘ Aè®¡åˆ’
        </a>
        â†’
      </span></p></div> </div> <!----></div></div>
    <script src="/yunotes/assets/js/app.7aa05a17.js" defer></script><script src="/yunotes/assets/js/23.3fc58a65.js" defer></script>
  </body>
</html>
